<div class="container image-width " *ngIf="beforeLogin">
  <div class="row image-row-margin top-bg-image">
    <div class="col-md-12 text-align-center padding-text-image">
      <!-- <div class="col-md-12"> -->
      <p class="text-capitalize want-text">want Better Price ?</p>
      <!-- </div> -->
      <!-- <div class="col-md-12"> -->
      <button class="craete-advertisement-button">Create Advertisement</button>
      <!-- </div> -->
    </div>
  </div>
  <div class="text-align-center trade-now">
    <span class="border-bot order-text tradeSubheading-fontSze-fontFamily">Trade Now</span>
  </div>
</div>
<!-- for images -->
<div class="container container-padding ">
  <div class="row tradeNow-background-img">
    <!-- new page -->
    <div class="col-md-6  ">
      <div class="exchange-border-right">
      <h2 class="tradeHeading-fontSze-fontFamily">EXCHANGE PAIR</h2>
       <div class="exchange-pair-text">{{pairName}}</div>
      </div>
      <!-- for bln btc -->
      <div class="row">
        <div class="col-md-5 tab-margin">
          <!-- <div class="exchange-pair-text">{{pairName}}</div> -->
        </div>
        <div class="col-md-8  trade-border trade-margin table-bg-color trade-Form">
          <div class="row">
            <div class="col-md-12  trade-border-heading trade-heading-center heading-font trade-in-part ">
              <span class="table-heading-content">TRADE IN {{pairName}} </span>
            </div>
            <div *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'">
              <div class="col-md-12 trade-field trade-button-margin">
                <div class="col-md-6  buy-button-left">
                  <a class="buyAnchor" (click)="showBuyOrder()">I want to buy BLN</a>
                </div>
                <div class="col-md-6  sell-button-right">
                  <a class="sellAnchor" (click)="showSellOrder()">I want to sell BLN</a>
                </div>
              </div>
              <!-- for buy section -->
              <section *ngIf="hasBuy">
                <div class="col-md-12 trade-field">
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="col-sm-10 padding-level">
                        <div class="col-md-6">
                          <label for="email tradeSubheading-fontSze-fontFamily">Amount of BLN:</label>
                        </div>

                        <div class="col-md-6">
                          <input type="text" class="form-control" id="amount">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12">
                      <div class="col-sm-10 padding-level">
                        <div class="col-md-6">
                          <label for="email tradeSubheading-fontSze-fontFamily">Your BLN Address:</label>
                        </div>

                        <div class="col-md-6">
                          <input type="text" class="form-control" id="amount">
                        </div>
                      </div>
                    </div>

                    <div class="col-sm-12 padding-level margin-buy-Button">
                      <button class="buy-button-color" routerLink="/trading">BUY</button>
                    </div>

                  </div>
                </div>
              </section>
              <!-- for buy section -->
              <!-- for sell section -->
              <section *ngIf="hasSell">
                <div class="col-md-12 trade-field">
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="col-sm-10 padding-level">
                        <div class="col-md-5">
                          <label for="email tradeSubheading-fontSze-fontFamily">Amount of BTC:</label>
                        </div>

                        <div class="col-md-7">
                          <input type="text" class="form-control" id="amount">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12 padding-level margin-buttons">
                      <button class="sell-button-color" routerLink="/sell">SELL</button>
                    </div>

                  </div>
                </div>
              </section>
            </div>

            <div *ngIf="firstCurrency!='NGN' && secondCurrency!='NGN'">
              <div class="col-md-12 total-currency-message">
                <p>You have {{firstCurrencyBal}} and {{secondCurrencyBal}} in your wallet. </p>
              </div>
              <div class="col-md-12 trade-drop-down trade-drop-down-margin">
                <p class="tradeErrorTextColor" *ngIf="hasAmount">Please Enter Amount To Start Trading</p>
                <select class="trade-dropdown" [(ngModel)]="setTradingValue" (ngModelChange)="setTradeValue(setTradingValue)">
                     <option [value]="tv.valueType" *ngFor="let tv of tradeValue" >{{tv.valueType}}</option>
                     </select>
              </div>
              <div *ngIf="isMarket">
                <div class="col-md-12 trade-field">
                  <div class="col-md-5">
                    <label for="email tradeSubheading-fontSze-fontFamily">Amount (in {{firstCurrency}})</label>
                  </div>
                  <div class="col-md-7">
                    <input type="text" class="form-control" [(ngModel)]="order.volume" id="email" >
                  </div>
                </div>
                <div class="col-md-12 trade-field">
                  <div class="col-md-5">
                    <label for="email tradeSubheading-fontSze-fontFamily">Price (in {{secondCurrency}})</label>
                  </div>
                  <div class="col-md-7">
                    <input type="text" class="form-control" title="Equivalent ETH price for this order" [(ngModel)]="order.price" id="amount"
                      name="amount">
                  </div>
                </div>
                <div class="col-md-12 trade-field">
                  <div class="col-md-5">
                    <label for="email">Total Price (in {{secondCurrency}})</label>
                  </div>
                  <div class="col-md-7">
                    <input type="text" class="form-control" title="Equivalent total {{secondCurrency}} price for this order" [(ngModel)]="order.volume*order.price"
                      id="amount" name="amount" [disabled]=true>
                  </div>
                </div>
                <div class="col-md-12 total-coin">
                  <p>Equivalent total {{secondCurrency}} price for this order</p>
                </div>
                <div class="col-md-12 trade-field">
                  <hr>
                  <p>Fee : 0%</p>
                </div>
                <div class="col-md-12 trade-field">
                  <div class="col-md-6  buy-button-left">
                    <button class="trade-button-buy buy-button-colors" (click)="showModel('BUY', order.volume, order.price, null)">BUY</button>
                  </div>
                  <div class="col-md-6  sell-button-right">
                    <button class="trade-button-sell " (click)="showModel('SELL', order.volume, order.price, null)">SELL</button>
                  </div>
                </div>
              </div>
              <div *ngIf="!isMarket">
                <div class="col-md-12 trade-field">
                  <div class="col-md-5">
                    <label for="amount">Amount (in {{firstCurrency}})</label>
                  </div>
                  <div class="col-md-7">
                    <input type="text" class="form-control" id="email" [(ngModel)]="order.volume" (ngModelChange)="oneBtc()">
                  </div>
                </div>
                <div class="col-md-12 trade-field">
                  <div class="col-md-5">
                    <label for="price">Price (in {{secondCurrency}})</label>
                  </div>
                  <div class="col-md-7">
                    <input type="text" class="form-control" id="amount" title="Equivalent {{secondCurrency}} price for this order " name="amount"
                      [(ngModel)]="order.price" [disabled]=true>
                  </div>
                </div>
                <div class="col-md-12 total-coin">
                  <p>Equivalent {{secondCurrency}} price for this order</p>
                </div>
                <div class="col-md-12 trade-field">
                  <hr>
                  <p>Fee : 0%</p>
                </div>
                <div class="col-md-12 trade-field">
                  <div class="col-md-6  buy-button-left">
                    <button class="trade-button-buy buy-button-colors " (click)="showModel('BUY', order.volume, order.price, null)">BUY</button>
                  </div>
                  <div class="col-md-6  sell-button-right">
                    <button class="trade-button-sell " (click)="showModel('SELL', order.volume, order.price, null)">SELL</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- for sell section -->
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 text-center marketing-margin ">
      <div class="row">
        <div class="col-md-9 col-md-offset-2 marketing-border marketing-border-padding">
          <div class="table-heading-content marketing-heading">MARKET</div>
          <div class="table-responsive table-responsive-padding">
            <div class="row">
              <div class="col-sm-12">
                <ul class="nav nav-tabs">
                  <li class="hand-icon" *ngFor="let coinList of currecyList" (click)=getPair(coinList.currencyId) [class.active]="coinList.currencyAbbreviation =='ETH'"><a data-toggle="tab">{{coinList.currencyAbbreviation}}</a></li>
                </ul>
              </div>
            </div>
            <table class="table  table-bordered market-margin ">
              <thead class="market-head-color table-Heading">
                <tr>
                  <th>Coin</th>
                  <th>Price</th>
                  <th>Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let pair of pairList" class="marketBodyColor">
                  <th class="hand-icon table-content-font" (click)=changePair(pair.pairId,pair.pairName,pair.toCurrency[0].currencyType,pair.pairedCurrency[0].currencyType)>{{pair.pairedCurrency[0].currencyAbbreviation}}</th>
                  <th class="table-content-font">0</th>
                  <th class="table-content-font">{{pair.pairedCurrency[0].currencyName}}</th>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- for drop-down -->
  <!-- before login div -->
  <div class="row">
    <div class="col-md-12 signin-or-create-account" *ngIf=beforeLogin>
      <span class="signin-for-tradenow" routerLink="/login">Sign In</span> or <span class="signin-for-tradenow" routerLink="/sign-up">Create New Account</span>      to start Trading
    </div>
  </div>

  <!-- order field -->
  <div class="row">
    <div class="col-md-12 order pad-top pad-order ">
      <div class="">
        <span class="border-bot order-text tradeSubheading-fontSze-fontFamily">ORDERS</span>
      </div>
      <div class="row">
        <div class="col-md-6 padding-to-all padding-buy-button trade-width buy-table border-radious-top">
          <div class="buy-orders border-radious-top">
            <span class="table-heading-content">BUY ORDERS</span>
          </div>
          <!-- table 1 -->
          <div class=" table-responsive sell-Buy-table ">
            <table class=" table table-striped table-color tradeSubheading-fontSze-fontFamily ">
              <thead>
                <tr>
                  <th>Price</th>
                  <th>{{secondCurrency}}</th>
                  <th>{{firstCurrency}}</th>
                  <th>Total {{firstCurrency}}</th>
                  <th *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'">Action</th>
                </tr>
              </thead>
              <tbody class="table-content-font trade-table-cursor">
                <tr *ngFor="let buyOrder of buyOrderList">
                  <td class="trade-table-cursor" (click)="fillData(buyOrder.volume,buyOrder.price)">{{buyOrder.price}}</td>
                  <td class="trade-table-cursor" (click)="fillData(buyOrder.volume,buyOrder.price)">{{buyOrder.volume * buyOrder.price}}</td>
                  <td class="trade-table-cursor" (click)="fillData(buyOrder.volume,buyOrder.price)">{{buyOrder.volume}}</td>
                  <td class="trade-table-cursor" (click)="fillData(buyOrder.volume,buyOrder.price)">{{buyOrder.totalVolume}}</td>
                  <td *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'"><button class="trade-button-buy buy-button-color " (click)="showModel('SELL', buyOrder.volume, buyOrder.price, buyOrder.id)">SELL</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- test -->
        <!-- test -->
        <!-- table1 -->
        <div class="col-md-4 col-md-offset-2 padding-to-all padding-buy-button trade-width sell-table border-radious-top">
          <div class="sell-orders border-radious-top">
            <span class="table-heading-content">SELL ORDERS</span>
          </div>
          <!-- table 2-->
          <div class="sell-Buy-table table-responsive">
            <table class="table table-striped table-color tradeSubheading-fontSze-fontFamily">
              <thead>
                <tr>
                  <th>Total {{firstCurrency}}</th>
                  <th>{{firstCurrency}}</th>
                  <th>{{secondCurrency}}</th>
                  <th>Price</th>
                  <th *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'">Action</th>
                </tr>
              </thead>
              <tbody class="table-content-font">
                <tr *ngFor="let sellOrder of sellOrderList">
                  <td class="trade-table-cursor" (click)="fillData(sellOrder.volume,sellOrder.price)">{{sellOrder.totalVolume}}</td>
                  <td class="trade-table-cursor" (click)="fillData(sellOrder.volume,sellOrder.price)">{{sellOrder.volume}}</td>
                  <td class="trade-table-cursor" (click)="fillData(sellOrder.volume,sellOrder.price)">{{sellOrder.volume * sellOrder.price}}</td>
                  <td class="trade-table-cursor" (click)="fillData(sellOrder.volume,sellOrder.price)">{{sellOrder.price}}</td>
                  <td *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'"> <button class="trade-button-buy " (click)="showModel('BUY', sellOrder.volume, sellOrder.price, sellOrder.id)">BUY</button></td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- table 2-->
        </div>
      </div>
    </div>
  </div>
  <!-- order field -->

  <!-- my orders page -->
  <div class="row">
    <div class="col-sm-12 myOrder-Table-margin padding-Table">
      <div class="row">
        <div class="col-sm-12 trade-history-heading">
          <span class="tradeSubheading-fontSze-fontFamily">MY OPEN ORDERS</span>
          <div class="title-Trade"></div>
        </div>
      </div>
      <div class="own-Table">
        <div class="loader spiner-position" *ngIf="isOpenOrders" ></div>
        <table class="table table-striped trade-History-table border-left table-Content tradeSubheading-fontSze-fontFamily" [ngClass]="{'opecity-table':hasBlurOpenOrders}" >
          <thead class="table-Head ">
            <tr>
              <th>Type</th>
              <th>Price</th>
              <th>Amount</th>
              <th>Total</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody class="table-content-font">
            <tr *ngFor="let orders of myOrdersInBook">
              <td>{{orders.orderType}}</td>
              <td>{{orders.price}} {{orders.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <td>{{orders.volume}} {{orders.pair.toCurrency[0].currencyAbbreviation}}</td>
              <td>{{orders.price * orders.volume}} {{orders.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <td>{{orders.createdOn | date}}</td>
            </tr>
            <div *ngIf="myOrdersInBookLength==0" class="hasTableData">
              <p>You have no open orders . . . !</p>
            </div>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- my orders page -->

  <!-- trade history page -->
  <div class="row">
    <div class="col-sm-12  tradeHistory-Table-margin padding-Table">
      <div class="row">
        <div class="col-sm-12">
          <div class="trade-historytable">
            <p class="tradeSubheading-fontSze-fontFamily title">TRADE HISTORY</p>
            <div class="title-Trade"></div>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- <div class="col-sm-3 col-sm-offset-9">
          <div class="row"> -->
        <div class="col-sm-12 trade-History-Button">
          <p>View: <span (click)="marketTradeList()" [ngClass]="{'button-color':marketTradeColor,'button-color-before-active':beforeActiveMarket}">MARKET TRADES</span>            | <span (click)="myTradeList()" [ngClass]="{'button-color':myTradeColor ,'button-color-before-active':beforeActiveMyTrade}">MY TRADES</span>            </p>

        </div>
        <!-- </div> -->
        <!-- </div> -->
      </div>

      <div class="trade-History">
          <div class="loader spiner-position" *ngIf="isLoading" ></div>
        <table class="table table-scroll table-striped trade-History-table border-left table-Content tradeSubheading-fontSze-fontFamily"
          *ngIf='marketTrade' [ngClass]="{'opecity-table':hasBlur}">
          <thead class="table-Head ">
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Price (1 Unit)</th>
              <th>Amount</th>
              <th>Total Price</th>
              <!-- <th>Order Standard</th> -->
            </tr>
          </thead>
          <tbody class="table-content-font ">
            <tr *ngFor="let tx of allTradedList">
              <td>{{tx.createdOn | date}}</td>
              <td>{{tx.createdOn | date:'shortTime'}}</td>
              <td>{{tx.price}} {{tx.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <td>{{tx.volume}} {{tx.pair.toCurrency[0].currencyAbbreviation}}</td>
              <td>{{tx.price * tx.volume}} {{tx.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <!-- <td>{{tx.orderStandard}}</td> -->
            </tr>

            <div *ngIf="allTradedListLength !=0 ">
              <p>More...</p>
            </div>
            <div *ngIf="allTradedListLength==0">
              <p class="hasTableData"> No trades . . . !</p>
              <p class="message-padding">You have not made any trades yet, Once you make some trades,they will appear here.</p>
            </div>
          </tbody>
        </table>
      </div>
      <div class="trade-History">
        <div class="loader spiner-position" *ngIf="isLoadingForMyTrade" ></div>
        <table class="table table-striped trade-History-table border-left table-Content tradeSubheading-fontSze-fontFamily" *ngIf='myTrade' [ngClass]="{'opecity-table':hasBlurForMyTrading}" >
          <thead class="table-Head ">
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Type</th>
              <th>Price (1 Unit)</th>
              <th>Amount</th>
              <th>Total Price</th>
              <!-- <th>Order Standard</th> -->
            </tr>
          </thead>
          <tbody class="table-content-font">
            <tr *ngFor="let tx of myTradedList">
              <td>{{tx.createdOn | date}}</td>
              <td>{{tx.createdOn | date:'shortTime'}}</td>
              <td style=color:#2AD747>
                <span *ngIf="tx.buyer.userId==userId" style=color:#2AD747>Buy</span>
                <span *ngIf="tx.seller.userId==userId" style=color:#DB2828>Sell</span>
              </td>
              <td>{{tx.price}} {{tx.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <td>{{tx.volume}} {{tx.pair.toCurrency[0].currencyAbbreviation}}</td>
              <td>{{tx.price * tx.volume}} {{tx.pair.pairedCurrency[0].currencyAbbreviation}}</td>
              <!-- <td>{{tx.orderStandard}}</td> -->
            </tr>
            <div *ngIf="myTradedListLength==0">
              <p class="hasTableData"> No trades . . . !</p>
              <p class="message-padding">You have not made any trades yet, Once you make some trades,they will appear here.</p>
            </div>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <!-- trade history page -->
  <!-- popup model -->
  <div bsModal #buySellModel="bs-modal" class="modal fade" tabindex="-1" role="dialog" [config]="{backdrop: 'static'}" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header trade-pop-upheader">
          <button type="button" class="close" (click)="hideModel()">&times;</button>
          <h4 class="modal-title confirm-order">Order Confirmation</h4>
        </div>
        <div class="modal-body">
          <!-- <p>Some text in the modal.</p> -->
          <div class="row ">
            <div class="col-sm-12">
              <span>You want to {{order.orderType}} {{order.volume}} {{firstCurrency}} at {{order.price * order.volume}} {{secondCurrency}} price.</span>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button *ngIf="firstCurrency!='NGN' && secondCurrency!='NGN'" type="button" class="btn confirm-Button button-Confirm" (click)="createOrder()">Yes</button>
          <button *ngIf="firstCurrency=='NGN' || secondCurrency=='NGN'" type="button" class="btn confirm-Button button-Confirm" (click)="createFiatOrder()">Yes</button>
          <button type="button" class="btn confirm-Button button-Confirm" (click)="hideModel()">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- popup model -->
</div>
<!-- <ngx-loading [show]="loading" [config]="{fullScreenBackdrop: true}"></ngx-loading> -->
